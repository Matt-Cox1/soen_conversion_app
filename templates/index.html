<!-- templates/index.html -->


<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SOEN Phenomenological Model Converter</title>
    
    <!-- MathJax Configuration -->
    <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
    <script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <script>
        window.MathJax = {
            tex: {
                inlineMath: [['$', '$'], ['\\(', '\\)']],
                displayMath: [['$$', '$$'], ['\\[', '\\]']],
                packages: ['base', 'ams', 'noerrors', 'noundefined']
            }
        };
    </script>

    <!-- Custom styles and scripts -->
    <link rel="stylesheet" href="{{ url_for('static', filename='css/styles.css') }}">
</head>
<body>
    <div class="container">
        <h1>SOEN Phenomenological Model Converter</h1>
        <div class="converter-grid">
            <!-- Dimensionless to Physical Section -->
            <div class="converter-section">
                <h2>Dimensionless to Physical</h2>
                <div class="input-group">
                    <label for="i">Dimensionless Current (i)</label>
                    <input id="i" type="number" step="any">
                </div>
                <div class="input-group">
                    <label for="phi">Dimensionless Flux (φ)</label>
                    <input id="phi" type="number" step="any">
                </div>
                <div class="input-group">
                    <label for="J">Dimensionless Inductance (J)</label>
                    <input id="J" type="number" step="any">
                </div>
                <div class="input-group">
                    <label for="t_prime">Dimensionless Time (t')</label>
                    <input id="t_prime" type="number" step="any">
                </div>
                <div class="input-group">
                    <label for="g_fq">Dimensionless Flux Quantum Rate (g_{fq})</label>
                    <input id="g_fq" type="number" step="any">
                </div>
                <div class="input-group">
                    <label for="beta_L">Dimensionless Inductance (β_L)</label>
                    <input id="beta_L" type="number" step="any">
                </div>
                <button onclick="convertToPhysical()" class="convert-physical-btn">Convert to Physical Units</button>
                <div id="physicalResult" class="result"></div>
            </div>

            <!-- Physical to Dimensionless Section -->
            <div class="converter-section">
                <h2>Physical to Dimensionless</h2>
                <div class="input-group">
                    <label for="I">Physical Current (I) [A]</label>
                    <input id="I" type="number" step="any">
                </div>
                <div class="input-group">
                    <label for="Phi">Physical Flux (Φ) [Wb]</label>
                    <input id="Phi" type="number" step="any">
                </div>
                <div class="input-group">
                    <label for="M">Physical Mutual Inductance (M) [H]</label>
                    <input id="M" type="number" step="any">
                </div>
                <div class="input-group">
                    <label for="t">Physical Time (t) [s]</label>
                    <input id="t" type="number" step="any">
                </div>
                <div class="input-group">
                    <label for="G_fq">Physical Flux Quantum Rate (G_{fq}) [Hz]</label>
                    <input id="G_fq" type="number" step="any">
                </div>
                <div class="input-group">
                    <label for="L">Inductance (L) [H]</label>
                    <input id="L" type="number" step="any">
                </div>
                <button onclick="convertToDimensionless()" class="convert-dimensionless-btn">Convert to Dimensionless Units</button>
                <div id="dimensionlessResult" class="result"></div>
            </div>

            <!-- Constants and Equations Section -->
            <div class="equations">
                <div class="tab-container">
                    <button class="tab-button active" onclick="switchTab('equations-tab')">Equations</button>
                    <button class="tab-button" onclick="switchTab('constants-tab')">Constants</button>
                </div>

                <div id="equations-tab" class="tab-content active">
                    <h2>Conversion Equations</h2>
                    <div class="equations-content">
                        <h3>Physical to Dimensionless</h3>
                        <p>\[i = \frac{I}{I_c}\]</p>
                        <p>\[\phi = \frac{\Phi}{\Phi_0}\]</p>
                        <p>\[J = M \cdot \frac{I_c}{\Phi_0}\]</p>
                        <p>\[t' = t \cdot \omega_c\]</p>
                        <p>\[g_{fq} = \frac{2\pi}{\omega_c} \cdot G_{fq}\]</p>

                        <h3>Derived Quantities</h3>
                        <p>\[\omega_c = \frac{2\pi r_{jj} I_c}{\Phi_0}\]</p>
                        <p>\[\alpha = \frac{r_{leak}}{r_{jj}}\]</p>
                        <p>\[\gamma = \frac{1}{\beta_L}\]</p>
                        <p>\[\tau = \frac{\beta_L}{\alpha}\]</p>

                        <h3>Fixed Constants</h3>
                        <p>\[\Phi_0 = \frac{h}{2e} \approx 2.07 \times 10^{-15} \, \text{Wb}\]</p>
                    </div>
                </div>

                <div id="constants-tab" class="tab-content">
                    <h2>Physical Constants</h2>
                    <div class="constants-grid">
                        <div class="input-group">
                            <label for="I_c">Critical Current (I_c) [A]</label>
                            <input id="I_c" type="number" step="any" value="100e-6">
                        </div>
                        <div class="input-group">
                            <label for="r_jj">Junction Shunt Resistance (r_{jj}) [Ω]</label>
                            <input id="r_jj" type="number" step="any" value="2.56">
                        </div>
                        <div class="input-group">
                            <label for="r_leak">Leak Resistance (r_{leak}) [Ω]</label>
                            <input id="r_leak" type="number" step="any" value="1.0">
                        </div>
                        <div class="input-group">
                            <label for="gamma_c">Proportionality Constant (γ_c) [F/A]</label>
                            <input id="gamma_c" type="number" step="any" value="1.5e-9">
                        </div>
                        <div class="input-group">
                            <label for="beta_c">Dimensionless Damping (β_c)</label>
                            <input id="beta_c" type="number" step="any" value="1.0">
                        </div>
                        
                        <div class="derived-constants">
                            <h3>Derived Constants</h3>
                            <div class="constant-item">
                                <span>ωc = </span><span id="omega_c"></span><span> rad/s</span>
                            </div>
                            <div class="constant-item">
                                <span>α = </span><span id="alpha"></span>
                            </div>
                            <div class="constant-item">
                                <span>γ = </span><span id="gamma"></span>
                            </div>
                            <div class="constant-item">
                                <span>τ = </span><span id="tau"></span>
                            </div>
                        </div>
                        <button onclick="updateConstants()" class="update-constants-btn">Update Constants</button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Custom JavaScript -->
    <script src="{{ url_for('static', filename='js/script.js') }}"></script>
</body>
</html>
